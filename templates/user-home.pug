extends layouts/base.pug

block content
    main
        h1 Hi #{user.name}
        h2 Your tasks 
        if tasks
            table
                tr
                    th tasks |
                    th start-date |
                    th status |
                    th action |
                each task in tasks
                    tr
                        td #{task.task} |
                        td #{task.start_date} |
                        if task.status == 0
                            td not-started |
                        else if task.status == 1
                            td started on #{task.start_date} |
                        else
                            td finished on #{task.completed_date} |
                        if task.status == 0
                            td
                                form(method='POST', action=('/task-start'))
                                    input(type='hidden' name='taskId' value=(task.id))
                                    button(type="submit") start
                        else if task.status == 1
                            td
                                form(method='POST', action=('/task-complete'))
                                    input(type='hidden' name='taskId' value=(task.id))
                                    button(type="submit") complete
                        else
                            td Change-Status |
                        td
                            a(href='/task-detail/' + task.id) details